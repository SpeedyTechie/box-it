!function(t){"use strict";t.boxit=function(s){function a(){t("body").css("padding-bottom","0");var s=t(window).innerHeight(),a=t("body").height();a<s&&t("body").css("padding-bottom",s-a+"px")}var e=t.extend({instance:"default",wrapClass:"",boxClass:"",closeButton:!0,closeButtonText:"Ã—",closeButtonClass:""},s);if(t('[data-boxit-instance="'+e.instance+'"]').length<1){var o=t("<div />");o.addClass("boxit-wrap"),o.addClass("boxit-instance-"+e.instance),o.addClass(e.wrapClass),o.attr("data-boxit-instance",e.instance),o.click(function(s){t(s.target).is(t(this))&&o.boxit("close")});var i=t("<div />");i.addClass("boxit-box"),i.addClass(e.boxClass),i.attr("data-boxit-box",e.instance),i.attr("tabindex","-1"),i.appendTo(o);var n=void 0;e.closeButton&&(n=t("<button />"),n.addClass("boxit-close"),n.addClass(e.closeButtonClass),n.attr("type","button"),n.attr("title","Close"),n.attr("data-boxit-close",e.instance),n.text(e.closeButtonText),n.click(function(){o.boxit("close")}),n.appendTo(i));var d=t("<div />");return d.css("opacity","0"),d.css("position","absolute"),d.css("z-index","-999999"),d.css("width","0"),d.css("height","0"),d.css("overflow","hidden"),d.attr("tabindex","0"),d.focus(function(){return i.focus(),!1}),d.appendTo(o),o.prependTo("body"),t(document).keydown(function(t){"Escape"===t.key||"Esc"===t.key?o.boxit("close"):27===t.keyCode&&o.boxit("close")}),t(document).data("boxit")||(a(),t(window).resize(a)),t(document).data("boxit",!0),o}return!1},t.fn.boxit=function(s,a){var e=this;if(e.is("[data-boxit-instance]")){if("open"===s){if("undefined"!=typeof a&&!e.boxit("isOpen")){var o=e.children("[data-boxit-box]").first(),i=o.children("[data-boxit-close]").first(),n=a;if(1===o.length){n=n.first(),i.detach(),o.empty(),o.append(i),o.append(n.clone());var d=t("<style>.boxit-wrap *, .boxit-wrap *::before, .boxit-wrap *::after { transition: 0s !important; }</style>");e.addClass("boxit-test"),d.appendTo("head"),e.addClass("active"),o.css("margin-top","");var c=t(window).innerHeight(),r=t(window).scrollTop(),l=e.height(),b=o.outerHeight(),x=l-b;x=b<c-100?Math.min(x,(c-b)/2+r-50):Math.min(x,r),o.css("margin-top",x+"px"),e.removeClass("active"),d.remove(),e.removeClass("boxit-test"),e.addClass("boxit-active"),e.data("lastFocus",t(document.activeElement)),o.focus()}}}else if("close"===s)e.removeClass("boxit-active"),e.data("lastFocus").focus();else if("isOpen"===s)return e.hasClass("boxit-active");return e}return!1}}(jQuery);