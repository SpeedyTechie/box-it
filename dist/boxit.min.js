!function(t){"use strict";t.boxit=function(s){var a=t.extend({instance:"default",wrapClass:"",boxClass:"",closeButton:!0,closeButtonText:"Ã—",closeButtonClass:""},s);if(t('[data-boxit-instance="'+a.instance+'"]').length<1){var e=t("<div />");e.addClass("boxit-wrap"),e.addClass("boxit-instance-"+a.instance),e.addClass(a.wrapClass),e.attr("data-boxit-instance",a.instance),e.click(function(s){t(s.target).is(t(this))&&e.boxit("close")});var o=t("<div />");o.addClass("boxit-box"),o.addClass(a.boxClass),o.attr("data-boxit-box",a.instance),o.attr("tabindex","-1"),o.appendTo(e);var i=void 0;a.closeButton&&(i=t("<button />"),i.addClass("boxit-close"),i.addClass(a.closeButtonClass),i.attr("type","button"),i.attr("title","Close"),i.attr("data-boxit-close",a.instance),i.text(a.closeButtonText),i.click(function(){e.boxit("close")}),i.appendTo(o));var n=t("<div />");return n.css("opacity","0"),n.css("position","absolute"),n.css("z-index","-999999"),n.css("width","0"),n.css("height","0"),n.css("overflow","hidden"),n.attr("tabindex","0"),n.focus(function(){return o.focus(),!1}),n.appendTo(e),e.prependTo("body"),t(document).keydown(function(t){"Escape"===t.key||"Esc"===t.key?e.boxit("close"):27===t.keyCode&&e.boxit("close")}),t(document).data("boxit",!0),e}return!1},t.fn.boxit=function(s,a){var e=this;if(e.is("[data-boxit-instance]")){if("open"===s){if("undefined"!=typeof a&&!e.boxit("isOpen")){var o=e.children("[data-boxit-box]").first(),i=o.children("[data-boxit-close]").first(),n=a;if(1===o.length){n=n.first(),i.detach(),o.empty(),o.append(i),o.append(n.clone());var c=t("<style>.boxit-wrap *, .boxit-wrap *::before, .boxit-wrap *::after { transition: 0s !important; }</style>");e.addClass("boxit-test"),c.appendTo("head"),e.addClass("active"),o.css("margin-top","");var d=t(window).innerHeight(),r=t(window).scrollTop(),l=e.height(),x=o.outerHeight(),b=l-x;b=x<d-100?Math.min(b,(d-x)/2+r-50):Math.min(b,r),o.css("margin-top",b+"px"),e.removeClass("active"),c.remove(),e.removeClass("boxit-test"),e.addClass("boxit-active"),e.data("lastFocus",t(document.activeElement)),o.focus()}}}else if("close"===s)e.removeClass("boxit-active"),e.data("lastFocus").focus();else if("isOpen"===s)return e.hasClass("boxit-active");return e}return!1}}(jQuery);