!function(t){"use strict";t.boxit=function(e){var s=t.extend({instance:"default",wrapClass:"",boxClass:"",closeButton:!0,closeButtonText:"Ã—",closeButtonClass:""},e);if(t('[data-boxit-instance="'+s.instance+'"]').length<1){var a=t("<div />");a.addClass("boxit-wrap"),a.addClass("boxit-instance-"+s.instance),a.addClass(s.wrapClass),a.attr("data-boxit-instance",s.instance),a.click(function(e){t(e.target).is(t(this))&&a.boxit("close")});var o=t("<div />");o.addClass("boxit-box"),o.addClass(s.boxClass),o.attr("data-boxit-box",s.instance),o.attr("tabindex","-1"),o.appendTo(a);var i=void 0;s.closeButton&&(i=t("<button />"),i.addClass("boxit-close"),i.addClass(s.closeButtonClass),i.attr("type","button"),i.attr("title","Close"),i.attr("data-boxit-close",s.instance),i.text(s.closeButtonText),i.click(function(){a.boxit("close")}),i.appendTo(o));var n=t("<div />");return n.css("opacity","0"),n.css("position","absolute"),n.css("z-index","-999999"),n.css("width","0"),n.css("height","0"),n.css("overflow","hidden"),n.attr("tabindex","0"),n.focus(function(){return o.focus(),!1}),n.appendTo(a),a.prependTo("body"),t(document).keydown(function(t){"Escape"===t.key||"Esc"===t.key?a.boxit("close"):27===t.keyCode&&a.boxit("close")}),t(document).data("boxit",!0),a}return!1},t.fn.boxit=function(e,s){var a=this;if(a.is("[data-boxit-instance]")){if("open"===e){if("undefined"!=typeof s&&!a.boxit("isOpen")){var o=a.children("[data-boxit-box]").first(),i=o.children("[data-boxit-close]").first(),n=s;if(1===o.length){n=n.first(),i.detach(),o.empty(),o.append(i),o.append(n.clone());var c=t("<style>.boxit-wrap *, .boxit-wrap *::before, .boxit-wrap *::after { transition: 0s !important; }</style>");a.addClass("boxit-test"),c.appendTo("head"),a.addClass("active"),o.css("margin-top","");var d=t(window).innerHeight(),r=t(window).scrollTop(),l=a.height(),x=a.outerHeight(!0)-l,b=o.outerHeight(),u=l-b;u=b<d-x?Math.min(u,(d-b)/2+r-x/2):Math.min(u,r),o.css("margin-top",u+"px"),a.removeClass("active"),c.remove(),a.removeClass("boxit-test"),a.addClass("boxit-active"),a.data("lastFocus",t(document.activeElement)),o.focus()}}}else if("close"===e)a.removeClass("boxit-active"),a.data("lastFocus").focus();else if("isOpen"===e)return a.hasClass("boxit-active");return a}return!1}}(jQuery);