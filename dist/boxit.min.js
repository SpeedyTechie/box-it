!function(t){"use strict";t.boxit=function(s){var e=t.extend({instance:"default",wrapClass:"",boxClass:"",closeButton:!0,closeButtonText:"Ã—",closeButtonClass:""},s);if(t('[data-boxit-instance="'+e.instance+'"]').length<1){var a=t("<div />");a.addClass("boxit-wrap"),a.addClass("boxit-instance-"+e.instance),a.addClass(e.wrapClass),a.attr("data-boxit-instance",e.instance),a.click(function(s){t(s.target).is(t(this))&&a.boxit("close")});var o=t("<div />");o.addClass("boxit-box"),o.addClass(e.boxClass),o.attr("data-boxit-box",e.instance),o.attr("tabindex","-1"),o.appendTo(a);var i=void 0;e.closeButton&&(i=t("<button />"),i.addClass("boxit-close"),i.addClass(e.closeButtonClass),i.attr("type","button"),i.attr("title","Close"),i.attr("data-boxit-close",e.instance),i.text(e.closeButtonText),i.click(function(){a.boxit("close")}),i.appendTo(o));var n=t("<div />");return n.css("opacity","0"),n.css("position","absolute"),n.css("z-index","-999999"),n.css("width","0"),n.css("height","0"),n.css("overflow","hidden"),n.attr("tabindex","0"),n.focus(function(){return o.focus(),!1}),n.appendTo(a),a.prependTo("body"),t(document).keydown(function(t){"Escape"===t.key||"Esc"===t.key?a.boxit("close"):27===t.keyCode&&a.boxit("close")}),a}return!1},t.fn.boxit=function(s,e){var a=this;if(a.is("[data-boxit-instance]")){if("open"===s){if("undefined"!=typeof e&&!a.boxit("isOpen")){var o=a.children("[data-boxit-box]").first(),i=o.children("[data-boxit-close]").first(),n=e;if(1===o.length){n=n.first(),i.detach(),o.empty(),o.append(i),o.append(n.clone());var c=t("<style>*, *::before, *::after { transition: 0s !important; }</style>");a.addClass("boxit-test"),c.appendTo("head"),a.addClass("active"),o.css("margin","");var d=a.height(),l=o.outerHeight();d>=l&&o.css("margin",(d-l)/2+"px auto"),a.removeClass("active"),c.remove(),a.removeClass("boxit-test"),a.addClass("boxit-active"),a.data("lastFocus",t(document.activeElement)),o.focus()}}}else if("close"===s)a.removeClass("boxit-active"),a.data("lastFocus").focus();else if("isOpen"===s)return a.hasClass("boxit-active");return a}return!1}}(jQuery);